%中国移动多媒体广播(CMMB)中LDPC，1/2码率，规则码，行重为6，列重为3，n9216 k4608
clc;clear;
n = 9216;
k = 4608;
H = zeros(n-k,n);
col_index = zeros(n-k,6);
h = [0   6      12      18      25      30
    0    7      19      26      31      5664
    0    8      13      20      32      8270 
    1    6      14      21      3085    8959
    1    15     27      33      9128    9188
    1    9      16      34      8485    9093
    2    6      28      35      4156    7760
    2    10     17      7335    7545    9138
    2    11     22      5278    8728    8962
    3    7      2510    4765    8637    8875
    3    4653   4744    7541    9175    9198
    3    23     2349    9012    9107    9168
    4    7      29      5921    7774    8946
    4    7224   8074    8339    8725    9212
    4    4169   8650    8780    9023    9159
    5    8      6638    8986    9064    9210
    5    2107   7787    8655    9141    9171
    5    24     5939    8507    5906    9173
    ];

for j=0:255
for i=1:18
row=j*18+i-1;
for t=1:6
col = mod(floor(h(i,t)/36+j),256)*36+(mod(h(i,t),36));
H(row+1,col+1)=1;
col_index(row+1,t) = col+1;
end
end
end
save(['CMMB_LDPC_n' num2str(n) '_k' num2str(k) '_H.mat'],'H');