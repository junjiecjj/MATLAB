close all;
clear all;
clc;

if isdir('D:\cjj\MATLAB\test') == 0
    fprintf('不存在\n')
    mkdir('D:\cjj\MATLAB\test')
else
    fprintf('存在\n')
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  批量新建文件并写入数据
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
new_folder = 'D:\cjj\MATLAB\test\';
cd(new_folder);
for i = 1:10
    eval(['fid=fopen(''txt',num2str(i),'.txt''',',','''a+''',');'])
    fprintf(fid, '%.4f\r\n',rand(10,1));
    fclose(fid);
end



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  读取头，然后逐行读取
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fid  = fopen('D:\cjj\MATLAB\test\test.txt','rt');
line1 = fgets(fid);
line2 = fscanf(fid, '%d %d %d',3);
fclose(fid);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  写入二维矩阵进.txt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
a = [1 2 3 4 5 6 7 8;
     9  10 11 12 13 14 15 16;
    17 18 19 20 21 22 23 24];
a1 = magic(8);
a2 = [11 22 33 44 55 66 77 88]
save afile.txt -ascii a a1 a2;
%读取
a3 = load('afile.txt','-ascii');

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  写入二维矩阵进.txt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

a = [1 2 3 4 5 6 7 8;
     9  10 11 12 13 14 15 16;
    17 18 19 20 21 22 23 24];

fid = fopen('data.txt','wt');
for i = 1:size(a,1)
    fprintf(fid, '%f\t',a(i,:));
    fprintf(fid,'\n');
end
fclose(fid);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  读取.txt二维矩阵
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
b = load('data.txt');

